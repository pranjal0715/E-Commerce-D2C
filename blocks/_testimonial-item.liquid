{%- assign heading = block.settings.heading-%}
{%- assign name = block.settings.name | escape -%}
{%- assign avatar = block.settings.image -%}
{%- assign title = block.settings.title -%}
{%- assign review = block.settings.review -%}
{%- assign rating = block.settings.rating -%}
<style>#shopify-block-{{ block.id }} .slick-carousel__item .content-image img{max-width:{{ block.settings.size }};}</style>
<div class="slick-carousel__item">
    <div class="testimonial-card">
        <div class="testimonial-card__inner">
            {%- if block.settings.show_heading -%}
                <h2 class="title-testimonial">{{ heading }}</h2>
            {%- endif -%}
            {%- if block.settings.show_rating -%}
                <div class="testimonial-card__rating testimonial-card__rating--{{ rating }}"></div>
            {%- endif -%}
            {%- if block.settings.show_review -%}
                <div class="testimonial-card__content">{{ review }}</div>
            {%- endif -%}
            <div class="content-info">
                {%- if block.settings.show_name -%}
                    <div class="testimonial-card__name">{{ name }}</div>
                {%- endif -%}
                {%- if block.settings.show_title -%}
                    <div class="testimonial-card__title">{{ title }}</div>
                {%- endif -%}
            </div>
            <div class="content-image">
                {%- if block.settings.show_image -%}
                    <div class="testimonial-card__avatar">
                        {%- if avatar -%}
                            {% include 'img-global' with image: avatar, class: "testimonial-card__avatar-img", effect: "fade-in" %}
                        {%- else -%}
                            <img class="lazyload fade-in" src="{{ 'placeholder.svg' | asset_url }}" alt="image demo"  width="100" height="100" />
                        {%- endif -%}
                    </div>
                {%- endif -%}
            </div>
        </div>
    </div>
</div>
{% schema %}
  {
    "name": "Item",
    "settings": [
		{
			"type": "textarea",
			"id": "padding",
			"label": "Padding",
			"placeholder": "0px 0px 0px 0px",
			"info":"Screen: desktop | 1200px | 991px | 767px"
		},
		{
			"type": "textarea",
			"id": "margin",
			"label": "Margin",
			"placeholder": "0px 0px 0px 0px",
			"info":"Screen: desktop | 1200px | 991px | 767px"
		},
        {
            "type": "checkbox",
            "id": "show_heading",
            "label": "Show Heading",
            "default": true
        },
        {
            "type": "text",
            "id": "heading",
            "label": "Heading",
            "default": "Heading"
        },
        {
            "type": "checkbox",
            "id": "show_image",
            "label": "Show Avatar",
            "default": true
        },
        {
            "type": "image_picker",
            "id": "image",
            "label": "Avatar"
        },
		{
			"type": "text",
			"id": "size",
			"label": "Max width image"
		},
        {
            "type": "checkbox",
            "id": "show_name",
            "label": "Show Customer name",
            "default": true
        },
        {
            "type": "text",
            "id": "name",
            "label": "Customer name",
            "default": "John Doe"
        },
        {
            "type": "checkbox",
            "id": "show_title",
            "label": "Show Title",
            "default": true
        },
        {
            "type": "text",
            "id": "title",
            "label": "Title",
            "default": "Heading"
        },
        {
            "type": "checkbox",
            "id": "show_review",
            "label": "Show Customer review",
            "default": true
        },
        {
            "type": "textarea",
            "id": "review",
            "label": "Customer review",
            "default": "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur non mattis dui, sit amet hendrerit nibh. Duis congue volutpat urna ut accumsan."
        },
        {
            "type": "checkbox",
            "id": "show_rating",
            "label": "Show Customer rating",
            "default": true
        },
        {
            "type": "select",
            "id": "rating",
            "label": "Customer rating",
            "default": "5",
            "options": [
                {
                    "value": "1",
                    "label": "1 Stars"
                },
                {
                    "value": "2",
                    "label": "2 Stars"
                },
                {
                    "value": "3",
                    "label": "3 Stars"
                },
                {
                    "value": "4",
                    "label": "4 Stars"
                },
                {
                    "value": "5",
                    "label": "5 Stars"
                }
            ]
        }
    ],
    "presets": [{"name": "Item"}]
  }
{% endschema %}